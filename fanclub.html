<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>高城玲奈 Official Fanclub</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "游明朝", "Yu Mincho", "Hiragino Mincho ProN", serif;
  background-color: #f5f5f5;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

header {
  background-color: white;
  padding: 20px 50px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.header-left {
  display: flex;
  align-items: center;
}

.name-section {
  display: flex;
  flex-direction: column;
}

.name-title {
  font-size: 28px;
  font-weight: normal;
  letter-spacing: 2px;
}

.name-en {
  font-size: 14px;
  font-style: italic;
  color: #666;
}

nav ul {
  display: flex;
  list-style: none;
  gap: 40px;
}

nav a {
  color: #333;
  text-decoration: none;
  font-size: 16px;
}

.main-content {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 60px 20px;
}

.fanclub-container {
  max-width: 900px;
  width: 100%;
  display: flex;
  gap: 40px;
}

.fanclub-box {
  flex: 1;
  background-color: white;
  padding: 50px 40px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  text-align: center;
}

.fanclub-box h2 {
  font-size: 28px;
  margin-bottom: 10px;
  color: #333;
  letter-spacing: 2px;
}

.fanclub-box .subtitle {
  font-size: 14px;
  color: #666;
  margin-bottom: 30px;
}

.form-group {
  margin-bottom: 20px;
  text-align: left;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  color: #333;
}

.form-group input {
  width: 100%;
  padding: 12px 15px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 14px;
}

.form-group input:focus {
  outline: none;
  border-color: #7B68EE;
}

.btn-primary {
  width: 100%;
  padding: 15px;
  background-color: #7B68EE;
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  cursor: pointer;
  margin-top: 10px;
  transition: background-color 0.3s;
}

.btn-primary:hover {
  background-color: #6456d8;
}

.info-text {
  margin-top: 30px;
  font-size: 13px;
  color: #666;
  line-height: 1.8;
}

.link-text {
  margin-top: 20px;
  font-size: 14px;
}

.link-text a {
  color: #7B68EE;
  text-decoration: none;
}

.link-text a:hover {
  text-decoration: underline;
}

.message {
  margin-top: 20px;
  padding: 10px;
  border-radius: 6px;
  font-size: 14px;
  display: none;
}

.message.success {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.message.error {
  background-color: #f8d7da;
  color: #721c24;
  border: 1px solid #f5c6cb;
}

footer {
  background-color: #f0f0f0;
  text-align: center;
  padding: 20px;
  font-size: 12px;
  color: #666;
}

@media (max-width: 768px) {
  .fanclub-container {
    flex-direction: column;
  }
  
  header {
    flex-direction: column;
    padding: 15px;
  }
  
  nav ul {
    gap: 20px;
  }
}
</style>
</head>
<body>

<header>
  <div class="header-left">
    <div class="name-section">
      <div class="name-title">高城 玲奈</div>
      <div class="name-en">Rena Takashiro</div>
    </div>
  </div>
  <nav>
    <ul>
      <li><a href="index.html">Profile</a></li>
      <li><a href="index.html#history">History</a></li>
      <li><a href="fanclub.html">Fanclub</a></li>
    </ul>
  </nav>
</header>

<div class="main-content">
  <div class="fanclub-container">
    <!-- ログインボックス -->
    <div class="fanclub-box">
      <h2>ログイン</h2>
      <p class="subtitle">Login</p>
      
      <form id="loginForm">
        <div class="form-group">
          <label>メールアドレス</label>
          <input type="email" id="loginEmail" placeholder="example@example.com" required>
        </div>
        
        <div class="form-group">
          <label>パスワード</label>
          <input type="password" id="loginPassword" placeholder="パスワードを入力" required>
        </div>
        
        <button type="submit" class="btn-primary">ログイン</button>
      </form>
      
      <div id="loginMessage" class="message"></div>
      
      <div class="link-text">
        <a href="#">パスワードを忘れた方はこちら</a>
      </div>
    </div>
    
    <!-- 新規入会ボックス -->
    <div class="fanclub-box">
      <h2>新規入会</h2>
      <p class="subtitle">New Registration</p>
      
      <form id="registerForm">
        <div class="form-group">
          <label>お名前</label>
          <input type="text" id="registerName" placeholder="山田 太郎" required>
        </div>
        
        <div class="form-group">
          <label>メールアドレス</label>
          <input type="email" id="registerEmail" placeholder="example@example.com" required>
        </div>
        
        <div class="form-group">
          <label>パスワード</label>
          <input type="password" id="registerPassword" placeholder="8文字以上" required>
        </div>
        
        <button type="submit" class="btn-primary">新規登録</button>
      </form>
      
      <div id="registerMessage" class="message"></div>
      
      <div class="info-text">
        ※ファンクラブ会員になると、限定コンテンツの閲覧や、イベントの先行予約などの特典がご利用いただけます。
      </div>
    </div>
  </div>
</div>

<footer>
  ©Stardalia Entertainment Promotion
</footer>

<script>
// ここにGoogle ColabのサーバーURLを入れます
const API_URL = https://ungoggled-marilu-emancipatory.ngrok-free.dev -> http://localhost:8000;




// ログインフォーム
document.getElementById('loginForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  
  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;
  const messageDiv = document.getElementById('loginMessage');
  
  try {
    const response = await fetch(`${API_URL}/login`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ email, password })
    });
    
    const data = await response.json();
    
    if (response.ok) {
      messageDiv.className = 'message success';
      messageDiv.textContent = 'ログインに成功しました！';
      messageDiv.style.display = 'block';
    } else {
      messageDiv.className = 'message error';
      messageDiv.textContent = data.detail || 'ログインに失敗しました';
      messageDiv.style.display = 'block';
    }
  } catch (error) {
    messageDiv.className = 'message error';
    messageDiv.textContent = 'サーバーに接続できませんでした';
    messageDiv.style.display = 'block';
  }
});

// 新規登録フォーム
document.getElementById('registerForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  
  const name = document.getElementById('registerName').value;
  const email = document.getElementById('registerEmail').value;
  const password = document.getElementById('registerPassword').value;
  const messageDiv = document.getElementById('registerMessage');
  
  try {
    const response = await fetch(`${API_URL}/register`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ name, email, password })
    });
    
    const data = await response.json();
    
    if (response.ok) {
      messageDiv.className = 'message success';
      messageDiv.textContent = '登録が完了しました！';
      messageDiv.style.display = 'block';
      document.getElementById('registerForm').reset();
    } else {
      messageDiv.className = 'message error';
      messageDiv.textContent = data.detail || '登録に失敗しました';
      messageDiv.style.display = 'block';
    }
  } catch (error) {
    messageDiv.className = 'message error';
    messageDiv.textContent = 'サーバーに接続できませんでした';
    messageDiv.style.display = 'block';
  }
});
</script>

</body>
</html>
